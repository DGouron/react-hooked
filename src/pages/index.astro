---
import HookIcon from "../components/icons/HookIcon.astro";
import LandingLayout from "../layouts/LandingLayout.astro";

const hooks: Record<string, string> = import.meta.glob('/src/hooks/*.ts', {query: '?raw', eager: true, import: 'default'});
const hooksCount = Object.keys(hooks).length;
---

<LandingLayout title="React Hooked ü™ù" selectedPage="Home">
  <section class=" min-h-screen mx-auto flex py-24 lg:flex-row flex-col items-center md:justify-center flex-wrap">
    <div class="mx-auto max-w-md  md:max-w-lg  flex flex-col md:items-start md:text-left mb-16 md:mb-0 items-center text-center self-start px-4 sm:mt-32 md:mt-0 xl:mt-12">
      <div class="flex flex-row items-center justify-center gap-4">
      <p class="mb-4 text-xl font-semibold">
        React Hooked
        <HookIcon class="inline-block w-6 h-6 mb-2" />
      </p>
      <div class="border-2 border-ctp-peach mb-4 px-4 py-1 rounded-full text-ctp-peach pointer-events-none">
        Beta
      </div>
      </div>
      <h1 class="font-bold sm:text-5xl text-3xl mb-4">
        React hooks, without package installation.
      </h1>
      <p class="mb-6 text-lg">
        A collection of React Hooks without dependencies. Steal these hooks and use them in your project.
      </p>
      <a href="/docs" class="inline-flex text-ctp-base bg-ctp-blue border-0 py-4 px-8 focus:outline-none hover:bg-ctp-pink rounded text-xl transition-all mb-16">Getting started</a>
    </div>
    <div class="lg:max-w-lg  w-1/2 md:w-1/3 lg:w-1/4 mx-auto sticky top-16 self-start">
        <HookIcon />
    </div>
    <div class="flex-grow min-h-[20rem] py-8 w-full px-2 z-10 overflow-x-clip">
      <div class="flex flex-col items-center justify-center">
        <blockquote class="text-xl italic bg-ctp-crust/90 backdrop-blur-sm font-semibold mb-12 p-8 border border-ctp-subtext0 rounded-lg">
        <svg class="w-8 h-8 text-ctp-subtext0 mb-2 -ml-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 14">
            <path d="M6 0H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4v1a3 3 0 0 1-3 3H2a1 1 0 0 0 0 2h1a5.006 5.006 0 0 0 5-5V2a2 2 0 0 0-2-2Zm10 0h-4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h4v1a3 3 0 0 1-3 3h-1a1 1 0 0 0 0 2h1a5.006 5.006 0 0 0 5-5V2a2 2 0 0 0-2-2Z"/>
        </svg>
          <p class="text-3xl">It's like shadcn/ui, but for hooks</p>
        </blockquote>
      </div>
      <div class="max-w-7xl mx-auto my-10 px-4">
        <div class="w-full h-11 rounded-t-lg bg-ctp-crust/90 backdrop-blur-sm flex justify-between items-center space-x-1.5 px-3">
          <div class="flex space-x-2">
            <span class="w-3 h-3 rounded-full bg-red-400"></span>
            <span class="w-3 h-3 rounded-full bg-yellow-400"></span>
            <span class="w-3 h-3 rounded-full bg-green-400"></span>
          </div>
          <div class="flex space-x-4 items-center">
            <div class="relative">
              <img id="demo-favicon" src="favicon.svg" class="w-6 h-6" alt="Logo" />
              <a href="/docs/useFavicon" class="font-handwriting absolute -top-8 -left-20 text-ctp-subtext1 hover:underline underline-offset-2 -rotate-2">useFavicon</a>
            </div>
            <div class="relative">
              <p id="demo-title">React Hooked ü™ù</p>
              <a href="/docs/useDocumentTitle" class="font-handwriting absolute -top-8 -right-20 text-ctp-subtext1 hover:underline underline-offset-2 rotate-6">useDocumentTitle</a>
            </div>
          </div>
          <div class="w-12"></div>
        </div>
        <div class="bg-ctp-surface0/90 backdrop-blur-sm border-t-0 w-full">
          <nav class="flex flex-row items-center justify-between p-4 border-t-0">
            <div>
              <div class="relative">
                <input id="demo-search" type="text" placeholder="Search..." class="w-full bg-ctp-surface1 border-0 focus:outline-none focus:ring-2 focus:ring-ctp-blue focus:ring-offset-0 rounded-lg text-ctp-subtext1 placeholder-ctp-subtext1 px-4 py-2" />
                <a href="/docs/useDebounce" class="font-handwriting absolute -bottom-8 left-2 text-ctp-subtext1 hover:underline underline-offset-2 -rotate-2">useDebounce</a>
              </div>
            </div>
            <div class="flex flex-row items-center justify-evenly gap-6">
              <div class="relative">
                <div id="demo-online-status" class="flex flex-row items-center gap-2">
                  <div class="bg-ctp-green rounded-full w-3 h-3"></div>
                  <p>Online</p>
                </div>
                <a href="/docs/useIsOnline" class="font-handwriting absolute -bottom-8 -left-8 text-ctp-subtext1 hover:underline underline-offset-2 -rotate-3">useIsOnline</a>
              </div>
              <div class="relative">
                <div id="demo-user-avatar" class="bg-ctp-surface1 hover:bg-ctp-surface2 rounded-full p-2 cursor-pointer">
                  <img src="favicon.svg" class="w-6 h-6 invert dark:invert-0" alt="Logo" />
                </div>
                <a href="/docs/useToggle" class="font-handwriting absolute -top-8 -right-6 text-ctp-subtext1 hover:underline underline-offset-2 rotate-6">useToggle</a>
              </div>
            </div>
          </nav>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 m-2 p-6">
            <div class="flex flex-col items-center justify-stretch bg-ctp-base rounded-lg p-2 gap-8 shadow-lg md:col-span-2">
              <div class="relative">
                <div id="demo-steps" class="p-2 space-y-2">
                  <h3 class="text-base font-semibold">Step 3: Fill in details</h3>
                  <div class="flex max-w-xs space-x-3">
                    <span class="w-12 h-2 rounded-sm bg-ctp-mauve"></span>
                    <span class="w-12 h-2 rounded-sm bg-ctp-mauve"></span>
                    <span class="w-12 h-2 rounded-sm bg-ctp-text"></span>
                    <span class="w-12 h-2 rounded-sm bg-ctp-surface0"></span>
                    <span class="w-12 h-2 rounded-sm bg-ctp-surface0"></span>
                  </div>
                </div>
                <a href="/docs/useStep" class="font-handwriting absolute -top-6 right-2 text-ctp-subtext1 hover:underline underline-offset-2 rotate-6">useStep</a>
              </div>
              <div class="relative">
                <button id="demo-geolocate" class="bg-ctp-blue text-ctp-base py-2 px-4 rounded-lg hover:bg-ctp-pink shadow">
                  Geolocate me 
                </button>
                <a href="/docs/useGeolocation" class="font-handwriting absolute top-2 -left-36 text-ctp-subtext1 hover:underline underline-offset-2 -rotate-6">useGeolocation</a>
              </div>
              <div class="relative">
                <p id="demo-countdown" class="text-ctp-subtext0">14 minutes left</p>
                <a href="/docs/useCountdown" class="font-handwriting absolute top-0 -left-32 text-ctp-subtext1 hover:underline underline-offset-2 -rotate-6">useCountdown</a>
              </div>
              <div class="relative">
                <div id="demo-cookies" class="flex items-center">
                  <input checked id="checked-checkbox" type="checkbox" value="" class="w-4 h-4 text-ctp-blue bg-ctp-base border-ctp-base rounded focus:ring-ctp-blue focus:ring-2">
                  <label for="checked-checkbox" class="ms-2 text-sm font-medium">Remember me</label>
                </div>
                <a href="/docs/useCookie" class="font-handwriting absolute top-8 left-4 text-ctp-subtext1 hover:underline underline-offset-2 -rotate-6">useCookie</a>
              </div>
              <div>
              </div>
            </div>
            <div class="flex flex-col items-center justify-center bg-ctp-surface2 rounded-lg p-4 text-center md:col-span-1 gap-4">
              <div class="relative">
                <p id="demo-idle" class="text-xl font-bold">Are you still here?</p>
                <a href="/docs/useIdle" class="font-handwriting absolute -top-10 -right-4 text-ctp-subtext1 hover:underline underline-offset-2 -rotate-6">useIdle</a>
              </div>
              <p class="text-lg">
                Explore the docs and get started.
              </p>
              <a href="/docs" class="bg-ctp-blue text-ctp-base py-2 px-4 rounded hover:bg-ctp-pink shadow">Explore</a>
          </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <div class="flex flex-col items-center justify-center mb-48 gap-12">
    <div class="text-3xl font-bold">
      {hooksCount} hooks available
    </div>
    <a href="/docs" class="inline-flex text-ctp-base bg-ctp-blue border-0 py-4 px-8 focus:outline-none hover:bg-ctp-pink rounded text-xl transition-all">Explore</a>
  </div>
</LandingLayout>

<script is:inline type="module">

    import { annotate } from 'https://unpkg.com/rough-notation?module';

    function setupDemo() {
      annotate(document.getElementById('demo-title'), {type: 'circle', padding: 8 }).show();
      annotate(document.getElementById('demo-favicon'), {type: 'box' }).show();
      annotate(document.getElementById('demo-user-avatar'), {type: 'circle' }).show();
      annotate(document.getElementById('demo-online-status'), {type: 'underline' }).show();
      annotate(document.getElementById('demo-search'), {type: 'bracket', brackets: ['bottom'] }).show();
      annotate(document.getElementById('demo-steps'), {type: 'bracket', brackets: ['left', 'right'] }).show();
      annotate(document.getElementById('demo-geolocate'), {type: 'box'}).show();
      annotate(document.getElementById('demo-countdown'), {type: 'underline' }).show();
      annotate(document.getElementById('demo-cookies'), {type: 'bracket', brackets: ['bottom'] }).show();
      annotate(document.getElementById('demo-idle'), {type: 'box'}).show();
    }

    setupDemo();

    document.addEventListener("astro:after-swap", () => {
      setupDemo();
    });
</script>
